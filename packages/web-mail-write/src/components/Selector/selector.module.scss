@import '../../../../web/src/styles/varies';

// 胶囊气泡
.capsule-tag {
  // height: 28px;
  // border-radius: 14px;
  // background-color: rgba($Text-5-r, $Text-5-g, $Text-5-b, 0.08);
  background-color: $Fill-4;
  margin: 4px 0;
  font-family: 'PingFang SC';
  font-size: 12px;
  display: flex;
  flex-direction: row;
  align-items: center;
  padding: 0 2px 0px;
  cursor: default;
  height: 24px;
  border-radius: 12px;

  &-wrong {
    // background-color: rgba($Error-6-r, $Error-6-g, $Error-6-b, 0.1);
    background-color: rgba(#fe5b4c, 0.1);
  }
  .avatar,
  .char-avatar {
    width: 20px;
    height: 20px;
    margin-left: -4px;
    background-color: #ffaa00;
    color: #fff;
    border-radius: 10px;
    font-weight: 500;
    text-align: center;
    line-height: 20px;
    display: flex;
    justify-content: center;
    &-wrong {
      background-color: #f74f4f;
      transform: scale(0.9);
      margin-left: 0;
    }
  }
  .avatar > img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
  }
  .label {
    font-weight: 400;
    line-height: 16px;
    margin: 0 6px 0 4px;
    color: rgba($Text-5-r, $Text-5-g, $Text-5-b, 0.9);
    // color: rgba(#272e47, 0.9);
    &-wrong {
      color: #f74f4f;
    }
  }
}

.option-item {
  display: flex;
  align-items: center;
  font-style: normal;
  font-weight: normal;
  font-size: 12px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  .optionAvatarWrap {
    margin-right: 8px;
    width: 20px;
    height: 20px;
  }

  .option-contact-name {
    // color: rgba($Text-5-r, $Text-5-g, $Text-5-b, 0.9);
    color: rgba(#272e47, 0.9);
  }
  .option-org {
    // color: rgba($Text-5-r, $Text-5-g, $Text-5-b, 0.5);
    color: rgba(#272e47, 0.5);
    margin-left: 5px;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
  .hit-text {
    color: $main-enhance-color;
  }
}

// 下拉菜单
.selector-dropdown {
  z-index: 10000;
  :global(.ant-select-item) {
    transition: none;
  }
  :global(.ant-select-item-option-active:not(.ant-select-item-option-disabled)) {
    background-color: $main-enhance-color;
    :global(.ant-select-item-option-content),
    .option-contact-name,
    .option-org,
    .hit-text {
      color: white;
    }
  }
  // 隐藏下拉列表中已选择的选项
  :global(.ant-select-item-option-selected) {
    display: none;
  }
}

// tooltip
:global {
  .selector-tag-tooltip {
    z-index: 10000;
    padding-top: 0;
    .ant-tooltip-arrow {
      display: none;
    }
    .ant-tooltip-inner {
      background-color: rgba(0, 0, 0, 0.8);
      color: #fff;
      border-radius: 6px;
      padding: 10px 12px;
      font-size: 14px;
      line-height: 18px;
    }
  }
}

.selector-wrapper {
  flex: 1;
  // &:not(:global(.ant-select-customize-input)) :global(.ant-select-selector) {
  //     border: none;
  // }
  // 输入框后有抄送密送按钮，防止重叠
  :global {
    .ant-select-selection-search {
      // margin-right: 130px;
      width: 1px;
      margin: 4px 0px 0px;
      &.focused {
        .ant-select-selection-search-input {
          caret-color: transparent;
        }
      }
    }
  }
  :global(.ant-tag.ant-dropdown-trigger) {
    margin-right: 0px;
  }

  &:global(.ant-select-suffix-div) {
    // :global(.ant-select-clear) {
    //     right: 136px;
    //     bottom: 16px;
    //     top: unset;
    // }
    :global(.ant-select-selection-search) {
      // margin-right: 130px;
      width: 1px;
      margin: 4px 0px 0px;
    }
    :global(.ant-tag.ant-dropdown-trigger) {
      margin-right: 0px;
    }
  }
  :global {
    // 胶囊气泡
    .ant-tag {
      display: flex;
      align-items: center;
      padding: 0;
      height: 36px;
      border: none;
      background-color: transparent;
      position: relative;
    }
    .ant-tag-close-icon {
      margin-left: 0;
      position: absolute;
      right: 6px;
    }
    .ant-select-selector {
      // background-color: rgba($Text-5-r, $Text-5-g, $Text-5-b, 0.04);
      background-color: rgba(#272e47, 0.04);
      // box-shadow: inset 0px -0.5px 0px rgba($Text-5-r, $Text-5-g, $Text-5-b, 0.12);
      box-shadow: inset 0px -0.5px 0px rgba(#272e47, 0.12);
      border: none !important;
      padding: 0 4px !important;
      // max-height: 256px;
      // overflow-y: scroll;
      overflow-x: hidden;
      min-height: 40px;

      &::-webkit-scrollbar {
        display: none;
      }

      .ant-select-selection-search-input {
        font-size: 14px;
      }

      // .item-chosen{
      //     background-color: #386EE7;
      // }
    }
    // .ant-select-multiple.ant-select-lg .ant-select-selection-search {
    //     height: 32px;
    //     line-height: 32px;
    // }
    .ant-select-multiple .ant-select-selector {
      padding: 0 4px;
    }

    .ant-select-selection-item.contact-tag-item {
      // background-color: red;
      border: none;
      // height: unset;
      padding: 0px;
      background-color: $white-bg;
    }

    .ant-select-selection-item.contact-tag-item.item-chosen {
      .contact-tag {
        background-color: #386ee7;
        span {
          color: #fff;
        }
      }
    }

    .tag-chosen {
      background-color: #386ee7;
      span {
        color: #fff;
      }
    }

    // 正在拖拽单个胶囊是时候，其他选中变为普通色
    .single-draging-outer {
      .contact-tag {
        background-color: rgba(#272e47, 0.08) !important;
        span {
          color: rgba(#272e47, 0.9) !important;
        }
      }
      // 正在拖拽的胶囊变为选中色
      .single-draging > .contact-tag {
        background-color: #386ee7 !important;
        span {
          color: #fff !important;
        }
      }
    }

    .ant-select-selection-overflow {
      padding: 4px 0;
    }
    // 等xx人
    .ant-select-selection-overflow-item-rest {
      font-size: 12px;
      // color: rgba($Text-5-r, $Text-5-g, $Text-5-b, 0.5);
      color: rgba(#272e47, 0.5);
      > span {
        background-color: transparent;
        border: none;
      }
    }
  }
}
:global {
  #drag-active-tags {
    .tag-chosen {
      background-color: #386ee7;
      span {
        color: #fff !important;
      }
    }
    color: #386ee7;

    // 正在拖拽的胶囊变为选中色
    .single-draging > .contact-tag {
      background-color: #386ee7 !important;
      span {
        color: #fff !important;
      }
    }
  }
}

.cap-drop-effect::before {
  position: absolute;
  content: '';
  height: 19px;
  display: block;
  width: 1px;
  background: #386ee7;
  left: 1px;
  top: 10px;
  z-index: -1;
  animation: cap-blink 0.8s infinite;
}

.crmCardControl {
  display: flex;
  align-items: center;
  width: 19px;
  &::before {
    content: '';
    height: 24px;
    width: 1px;
    // background-color: $Line-2;
    background-color: transparent;
    position: relative;
    left: -2px;
  }
}

.clientBackgroundColor {
  // background-color: $Success-1;
  background-color: #e6faf6;
}
.hintBackgroundColor {
  // background-color: $Warning-1;
  background-color: #fff8ed;
}

@keyframes cap-blink {
  0% {
    opacity: 1;
  }
  // 49%{opacity: 0}
  50% {
    opacity: 0;
  }
}
